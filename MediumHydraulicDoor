function createsound(id,volume,pitch,parent,roMD)
	local s = Instance.new("Sound")
	s.SoundId = "rbxassetid://"..tostring(id)
	s.Parent = parent
	s.Volume = volume
	s.PlaybackSpeed = pitch
	s.RollOffMaxDistance = roMD
	s:Play()
	game:GetService("Debris"):AddItem(s,s.TimeLength)
	return(s)
end

canuse = true

script.Parent.Settings["O/C"].Changed:Connect(function(boolean)
	if boolean == true then
		if canuse == true then canuse = false
			for _,a in pairs(script.Parent:GetDescendants()) do
				if a.Name == "Piston1" or a.name == "Piston2" then
					a.WeldConstraint.Enabled = false
					a.Anchored = true
					wait(Random.new():NextNumber(0,.2))
					local m = coroutine.create(function()
						game:GetService('TweenService'):Create(a,TweenInfo.new(3,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
						{CFrame = a.CFrame * CFrame.new(5,0,0)}):Play()
						local b = coroutine.create(function()
							local s = createsound(7000102493,1,1,script.Parent.Door.PrimaryPart,50)
							wait(3)
							s.TimePosition = 10
						end)
						coroutine.resume(b)
					end)
					coroutine.resume(m)
					local m12822 = coroutine.create(function()
						wait(3)
						a.WeldConstraint.Enabled = true
						a.Anchored = false
					end)
					coroutine.resume(m12822)
				end
			end
			wait(3)
			game:GetService('TweenService'):Create(script.Parent.Hydraulic1.PrimaryPart,TweenInfo.new(4,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic1.PrimaryPart.CFrame * CFrame.new(0,0,5) * CFrame.Angles(-1.4,0,0)}):Play() 
			game:GetService('TweenService'):Create(script.Parent.Hydraulic2.PrimaryPart,TweenInfo.new(4,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic2.PrimaryPart.CFrame * CFrame.new(0,0,-5) * CFrame.Angles(1.4,0,0)}):Play() 
			wait(4)
			local a = coroutine.create(function()
				createsound(7308129215,2,1,script.Parent.Door.PrimaryPart,200)
				wait(3)
				createsound(7308131953,2,1,script.Parent.Door.PrimaryPart,200)
				wait(3)
				createsound(7308134101,2,1,script.Parent.Door.PrimaryPart,200)
			end)
			coroutine.resume(a)
			game:GetService('TweenService'):Create(script.Parent.Door.PrimaryPart,TweenInfo.new(9,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Door.PrimaryPart.CFrame * CFrame.new(0,8,0)}):Play() 
			wait(9)
			canuse = true
		elseif canuse == false then
			script.Parent.Settings["O/C"].Value = true
		end
	elseif boolean == false then
		if canuse == true then canuse = false
			game:GetService('TweenService'):Create(script.Parent.Door.PrimaryPart,TweenInfo.new(9,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Door.PrimaryPart.CFrame * CFrame.new(0,-8,0)}):Play() 
			local a = coroutine.create(function()
				createsound(7308129215,2,1,script.Parent.Door.PrimaryPart,200)
				wait(3)
				createsound(7308131953,2,1,script.Parent.Door.PrimaryPart,200)
				wait(3)
				createsound(7308134101,2,1,script.Parent.Door.PrimaryPart,200)
			end)
			coroutine.resume(a)
			wait(9)
			game:GetService('TweenService'):Create(script.Parent.Hydraulic1.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic1.PrimaryPart.CFrame * CFrame.Angles(1.4,0,0)}):Play() 
			game:GetService('TweenService'):Create(script.Parent.Hydraulic2.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic2.PrimaryPart.CFrame * CFrame.Angles(-1.4,0,0)}):Play() 
			wait(2)
			game:GetService('TweenService'):Create(script.Parent.Hydraulic1.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic1.PrimaryPart.CFrame * CFrame.new(0,0,-5)}):Play() 
			game:GetService('TweenService'):Create(script.Parent.Hydraulic2.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic2.PrimaryPart.CFrame * CFrame.new(0,0,5)}):Play()
			wait(2)
			for _,a in pairs(script.Parent:GetDescendants()) do
				if a.Name == "Piston1" or a.name == "Piston2" then
					a.WeldConstraint.Enabled = false
					a.Anchored = true
					local m = coroutine.create(function()
						wait(Random.new():NextNumber(0,.2))
						game:GetService('TweenService'):Create(a,TweenInfo.new(3,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
						{CFrame = a.CFrame * CFrame.new(-5,0,0)}):Play()
						local b = coroutine.create(function()
							local s = createsound(7000102493,1,1,script.Parent.Door.PrimaryPart,50)
							wait(3)
							s.TimePosition = 10
						end)
						coroutine.resume(b)
					end)
					coroutine.resume(m)
					local m12822 = coroutine.create(function()
						wait(3)
						a.WeldConstraint.Enabled = true
						a.Anchored = false
					end)
					coroutine.resume(m12822)
				end
			end
			canuse = true
		elseif canuse == false then
			script.Parent.Settings["O/C"].Value = false
		end
	end
end)
