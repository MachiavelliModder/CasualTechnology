function createsound(id,volume,pitch,parent,roMD)
	local s = Instance.new("Sound")
	s.SoundId = "rbxassetid://"..tostring(id)
	s.Parent = parent
	s.Volume = volume
	s.PlaybackSpeed = pitch
	s.RollOffMaxDistance = roMD
	s:Play()
	game:GetService("Debris"):AddItem(s,s.TimeLength)
end

canuse = true

script.Parent.Settings["O/C"].Changed:Connect(function(boolean)
	if boolean == true then
		if canuse == true then canuse = false
			for _,a in pairs(script.Parent:GetDescendants()) do
				if a.Name == "Piston1" or a.name == "Piston2" then
					if a:FindFirstChildWhichIsA("WeldConstraint") then
						a:FindFirstChildWhichIsA("WeldConstraint").Enabled = false
						a.Anchored = true
					end
					wait(Random.new():NextNumber(0,.6))
					local m = coroutine.create(function()
					game:GetService('TweenService'):Create(a,TweenInfo.new(3,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
						{CFrame = a.CFrame * CFrame.new(5,0,0)}):Play()
						wait(3)
						a:FindFirstChildWhichIsA("WeldConstraint").Enabled = true
						a.Anchored = false
					end)
					coroutine.resume(m)
				end
			end
			wait(3)
			game:GetService('TweenService'):Create(script.Parent.Hydraulic1.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic1.PrimaryPart.CFrame * CFrame.new(0,0,5) * CFrame.Angles(-1.4,0,0)}):Play() 
			game:GetService('TweenService'):Create(script.Parent.Hydraulic2.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Hydraulic2.PrimaryPart.CFrame * CFrame.new(0,0,-5) * CFrame.Angles(1.4,0,0)}):Play() 
			wait(2)
			game:GetService('TweenService'):Create(script.Parent.Door.PrimaryPart,TweenInfo.new(5,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
			{CFrame = script.Parent.Door.PrimaryPart.CFrame * CFrame.new(0,8,0)}):Play() 
			wait(5)
			canuse = true
		end
	elseif boolean == false then
		game:GetService('TweenService'):Create(script.Parent.Door.PrimaryPart,TweenInfo.new(5,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
		{CFrame = script.Parent.Door.PrimaryPart.CFrame * CFrame.new(0,-8,0)}):Play() 
		wait(5)
		game:GetService('TweenService'):Create(script.Parent.Hydraulic1.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
		{CFrame = script.Parent.Hydraulic1.PrimaryPart.CFrame * CFrame.Angles(1.4,0,0)}):Play() 
		game:GetService('TweenService'):Create(script.Parent.Hydraulic2.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
		{CFrame = script.Parent.Hydraulic2.PrimaryPart.CFrame * CFrame.Angles(-1.4,0,0)}):Play() 
		wait(2)
		game:GetService('TweenService'):Create(script.Parent.Hydraulic1.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
		{CFrame = script.Parent.Hydraulic1.PrimaryPart.CFrame * CFrame.new(0,0,-5)}):Play() 
		game:GetService('TweenService'):Create(script.Parent.Hydraulic2.PrimaryPart,TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
		{CFrame = script.Parent.Hydraulic2.PrimaryPart.CFrame * CFrame.new(0,0,5)}):Play()
		wait(2)
		for _,a in pairs(script.Parent:GetDescendants()) do
			if a.Name == "Piston1" or a.name == "Piston2" then
				if a:FindFirstChildWhichIsA("WeldConstraint") then
					a:FindFirstChildWhichIsA("WeldConstraint").Enabled = false
					a.Anchored = true
				end
				wait(Random.new():NextNumber(0,.6))
				local m = coroutine.create(function()
					game:GetService('TweenService'):Create(a,TweenInfo.new(3,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),
					{CFrame = a.CFrame * CFrame.new(-5,0,0)}):Play()
					wait(3)
					a:FindFirstChildWhichIsA("WeldConstraint").Enabled = true
					a.Anchored = false
				end)
				coroutine.resume(m)
			end
		end
		canuse = true
	end
end)
